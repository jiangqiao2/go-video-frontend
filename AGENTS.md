# Repository Guidelines

## Project Structure & Module Organization

- `src/` — application source (React + TypeScript).
  - `src/main.tsx` — app bootstrap (Ant Design `ConfigProvider`, router mount).
  - `src/router/` — route definitions and auth guards.
  - `src/pages/` — page-level screens (e.g. `Home`, `Login`, `Watch`).
  - `src/components/` — reusable UI components (feature folders like `layout/`, `upload/`).
  - `src/services/` — API and streaming clients (Axios/SSE).
  - `src/store/` — Zustand state stores.
- `index.html` — Vite entry HTML.
- `vite.config.ts` — Vite config (port `3000`, `@/` alias, `/api` and `/storage` proxies).
- `dist/` — build output (generated by `npm run build`).

## Build, Test, and Development Commands

- `npm ci` — install dependencies (CI uses this).
- `npm run dev` — run Vite dev server on `http://localhost:3000`.
- `npm run build` — type-check (`tsc`) + production build to `dist/`.
- `npm run preview` — serve the production build locally.
- `npm run lint` — run ESLint over `ts/tsx` files.

## Coding Style & Naming Conventions

- TypeScript is `strict`; keep `noUnusedLocals`/`noUnusedParameters` clean.
- Prefer functional React components + hooks; keep page components in `src/pages/`.
- Use the path alias for internal imports: `@/services/api`, `@/store/auth`.
- Naming:
  - Components: `PascalCase.tsx` (e.g. `VideoManagement.tsx`)
  - Utilities/types: `camelCase.ts` (e.g. `notificationStream.ts`)

## Testing Guidelines

This repo currently does not include a dedicated test runner/script. For changes, do a local smoke check via `npm run dev` and ensure `npm run build` passes. If you add tests, prefer `src/**/__tests__` with `*.test.ts(x)` naming and document the runner in `package.json`.

## Commit & Pull Request Guidelines

- Commits follow a Conventional Commits-style prefix (examples from history): `feat: ...`, `chore: ...`, `fix: ...`.
- PRs should include:
  - A brief description + linked issue (if applicable)
  - Screenshots/gifs for UI changes
  - Notes on API/backend assumptions (dev proxy targets `http://localhost:8000`)
  - CI must pass (`.github/workflows/ci.yml` runs `npm run build`)

## Security & Configuration Tips

- Environment variables live in `.env.development`; only expose non-secrets with the `VITE_` prefix.
- Do not commit credentials, tokens, or kube/registry secrets (CI expects them as GitHub Secrets).
